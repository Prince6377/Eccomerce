{% extends "base/base.html" %}

{% block content %}

<section class="section-content padding-y bg">
    <div class="container">
    
    <!-- ============================ COMPONENT 1 ================================= -->
    <div class="card">
        <div class="row no-gutters">
            <aside class="col-md-6">
                <article class="gallery-wrap"> 
                    <div class="img-big-wrap">
                       
                        <div>
                            <a href="#" >
                                <img src="/media/{{product.product_images.first.image }}" class="img-fluid" >
                            </a>
                        </div>
                        
                    </div> <!-- img-big-wrap // -->

                    <div class="thumbs-wrap">
                        {% for image in product.product_images.all %}
                        <a href="#" class="item-thumb" data-toggle="modal" data-target="#imageModal" data-image="/media/{{ image.image }}">
                            <img src="/media/{{ image.image }}" class="img-fluid" >
                        </a>
                        {% endfor %}
                    </div> <!-- thumbs-wrap // -->
                </article> <!-- gallery-wrap .end// -->
            </aside>

            <main class="col-md-6 border-left">
                <article class="content-body">
                    <h2 class="title">{{ product.name|truncatewords:10 }}</h2>

                    <div class="rating-wrap my-3">
                        <ul class="rating-stars">
                            <li style="width:80%" class="stars-active"> 
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i> 
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i> 
                                <i class="fa fa-star"></i> 
                            </li>
                            <li>
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i> 
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i> 
                                <i class="fa fa-star"></i> 
                            </li>
                        </ul>
                        <small class="label-rating text-muted">132 reviews</small>
                        <small class="label-rating text-success"> <i class="fa fa-clipboard-check"></i> 154 orders </small>
                    </div> <!-- rating-wrap.// -->

                    <div class="mb-3"> 
                        <var class="price h4">${{product.price}}.00</var> 
                        <span class="text-muted">/per kg</span> 
                    </div> <!-- price-detail-wrap // -->

                    <p>{{ product.description|truncatewords:50 }}</p>

                    <dl class="row">
                        <dt class="col-sm-3">Model#</dt>
                        <dd class="col-sm-9">Odsy-1000</dd>

                        <dt class="col-sm-3">Color</dt>
                        <dd class="col-sm-9">Brown</dd>

                        <dt class="col-sm-3">Delivery</dt>
                        <dd class="col-sm-9">Russia, USA, and Europe</dd>
                    </dl>

                    <hr>

                    <div class="form-row">
                        <div class="form-group col-md flex-grow-0">
                            <label>Quantity</label>
                            <div class="input-group mb-3 input-spinner">
                                <div class="input-group-prepend">
                                    <button class="btn btn-light" type="button" id="button-plus"> + </button>
                                </div>
                                <input type="text" class="form-control" value="1">
                                <div class="input-group-append">
                                    <button class="btn btn-light" type="button" id="button-minus"> âˆ’ </button>
                                </div>
                            </div>
                        </div> <!-- col.// -->

                        <div class="form-group col-md">
                            <label>Select size</label>
                            <div class="mt-1">
                                <label class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" name="select_size" checked="" class="custom-control-input">
                                    <div class="custom-control-label">Small</div>
                                </label>

                                <label class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" name="select_size" class="custom-control-input">
                                    <div class="custom-control-label">Medium</div>
                                </label>

                                <label class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" name="select_size" class="custom-control-input">
                                    <div class="custom-control-label">Large</div>
                                </label>
                            </div>
                        </div> <!-- col.// -->
                    </div> <!-- row.// -->

                    <a href="#" class="btn btn-primary"> Buy now </a>
                    <a href="{% url 'add_to_cart' product.uid %}" class="btn btn-outline-primary"> <span class="text">Add to cart</span> <i class="fas fa-shopping-cart"></i>  </a>
                </article> <!-- product-info-aside .// -->
            </main> <!-- col.// -->
        </div> <!-- row.// -->
    </div> <!-- card.// -->
    <!-- ============================ COMPONENT 1 END ================================= -->

    </div> <!-- container // -->
</section>

<!-- Modal for enlarged image -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Product Image</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <img id="modalImage" src="" class="img-fluid" alt="Product Image Enlarged">
            </div>
        </div>
    </div>
</div>

<script>
    // When the modal is about to be shown
    $('#imageModal').on('show.bs.modal', function(event) {
        var button = $(event.relatedTarget); // Button that triggered the modal
        var imageSrc = button.data('image'); // Extract image source from data-* attributes

        var modal = $(this);
        modal.find('#modalImage').attr('src', imageSrc); // Set the image source in the modal
    });
</script>

{% endblock content %}





















